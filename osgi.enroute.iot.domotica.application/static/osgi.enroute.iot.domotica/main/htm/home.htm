<section ng-cloak>
	<div 
		class="node-container" 
		jsplumb
		jsplumb-defaults="{ Connector: 'Flowchart' }"
		jsplumb-connections="connections"
	>
		
		<div 
			class="node" 
			ng-repeat="node in nodes" 
			jsplumb-draggable
			left="node.position[0]" 
			top="node.position[1]"
			jsplumb-endpoint="{
                anchor: 'Top',
                isSource: true,
                isTarget: true,
                maxConnections: 3,
                connectorOverlays: [
                    [ 'Arrow', { width:3, length:3, location:1 } ]
                ]}"
             on-connection="logConnection(node.name, $sourceScope, $targetScope)"
       >

			<span>{{node.name}}</span>
		</div>
	</div>
	<pre>{{ nodes | json }}</pre>
	<pre>{{ connections | json }}</pre>

</section>
